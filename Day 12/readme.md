# DaemonSet and CronJob Configuration

## Task 1: Creating a DaemonSet

To create a DaemonSet, first define the configuration in a file named DaemonSet.yml using the following YAML code:

```yml
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: nginx-ds
  labels:
    env: demo
spec:
  template:
    metadata:
      labels:
        env: demo
        name: nginx
    spec:
      containers:
      - name: nginx
        image: nginx
        ports:
        - containerPort: 80
  selector:
    matchLabels:
      env: demo

```

To deploy the DaemonSet to your Kubernetes cluster, run the following command:

`kubectl apply -f '.\Day 12\DaemonSet.yml'`

Assuming your Kubernetes cluster consists of 4 nodes (1 control plane node and 3 worker nodes), verify the deployment by checking the status of the nodes: 

`kubectl get nodes`

Next, use the following command to check the status of the pods. The DaemonSet will create one pod per worker node:

`kubectl get pods`

This should result in 3 pods being created, corresponding to the 3 worker nodes in your cluster.



## Task 2: Creating a CronJob

To create a CronJob, define the configuration in a file named `cronjob.yml` using the following YAML code:


```yml
apiVersion: batch/v1
kind: CronJob
metadata:
  name: cj
spec:
  schedule: "*/5 * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: cj
            image: busybox:1.28
            command:
            - /bin/sh
            - -c
            - echo 40daysofkubernetes
          restartPolicy: OnFailure          
```

This CronJob is scheduled to run every 5 minutes. Each time it runs, it starts a new pod with a BusyBox container that logs the message `40daysofkubernetes`.

To deploy the CronJob, use the following command:

`kubectl apply -f cronjob.yml`

To verify the CronJob's execution, run the following command and observe new pods being created every 5 minutes:

`kubectl get pods -w`

This will display the logs of the newly created pods as they are generated by the CronJob.

